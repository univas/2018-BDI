


CREATE TABLE Cargo (
    CODIGO INTEGER NOT NULL,
    NOME VARCHAR(20) NOT NULL,
    SALARIO REAL NOT NULL
);

--NÃO FAZ DIFERENÇA ENTRE MAIÚSCULA E minúscula
ALTER TABLE cargo ADD CONSTRAINT CARGO_PK PRIMARY KEY (CODIGO);


CREATE TABLE FUNCIONARIO (
    REGISTRO INTEGER NOT NULL,
    NOME VARCHAR(20) NOT NULL,
    NASCIMENTO DATE NOT NULL
);

--ALTER TABLE CARGO ADD COLUMN ATIVO BOOLEAN NOT NULL;
--ALTER TABLE CARGO DROP COLUMN ATIVO;

ALTER TABLE FUNCIONARIO ADD COLUMN ATIVO BOOLEAN NOT NULL;

--FK DO CARGO
ALTER TABLE FUNCIONARIO ADD COLUMN CODIGO_CAR INTEGER NOT NULL;

ALTER TABLE FUNCIONARIO
ADD CONSTRAINT CARGO_FK
FOREIGN KEY (CODIGO_CAR)
REFERENCES CARGO (CODIGO);

CREATE TABLE DEPARTAMENTO (
    CODIGO INTEGER NOT NULL,
    NOME VARCHAR(40) NOT NULL
);
ALTER TABLE DEPARTAMENTO ADD CONSTRAINT DEPARTAMENTO_PK PRIMARY KEY (CODIGO);

--FK DO DEPARTAMENTO
ALTER TABLE FUNCIONARIO ADD COLUMN CODIGO_DEP INTEGER NOT NULL;

ALTER TABLE FUNCIONARIO
ADD CONSTRAINT DEPARTAMENTO_FK
FOREIGN KEY (CODIGO_DEP)
REFERENCES DEPARTAMENTO (CODIGO);


--tabela de registro de ponto

CREATE TABLE PONTO (
    IDENTIFICADOR SERIAL NOT NULL,
    DATAHORA TIMESTAMP NOT NULL
);

INSERT INTO PONTO (DATAHORA) VALUES ('2018-11-01 21:51:37');

SELECT * FROM PONTO;

INSERT INTO PONTO (DATAHORA) VALUES (NOW());

SELECT * FROM PONTO;

DELETE FROM PONTO WHERE IDENTIFICADOR = 4;
SELECT * FROM PONTO;
INSERT INTO PONTO (DATAHORA) VALUES (NOW());
SELECT * FROM PONTO;
DELETE FROM PONTO WHERE IDENTIFICADOR = 3;
INSERT INTO PONTO (DATAHORA) VALUES (NOW());
SELECT * FROM PONTO;

